@model List<DiscoverySetting>

<h2 class="mb-4">Discovery Settings Overview</h2>

<!-- Action Button -->
<div class="d-flex justify-content-end mb-3">
    <a class="btn btn-success shadow-sm" asp-action="Create">
        <i class="bi bi-plus-circle me-1"></i> Add New Setting
    </a>
</div>

<!-- Settings Table -->
<div class="table-responsive shadow-sm rounded">
    <table class="table table-hover table-bordered align-middle">
        <thead class="table-primary">
            <tr>
                <th scope="col">Setting ID <i class="bi bi-hash"></i></th>
                <th scope="col">Parameter <i class="bi bi-sliders"></i></th>
                <th scope="col">Value <i class="bi bi-card-text"></i></th>
                <th scope="col" class="text-center">Actions <i class="bi bi-gear"></i></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var setting in Model)
            {
                <tr>
                    <td>@setting.SettingId</td>
                    <td>@setting.Parameter</td>
                    <td>@setting.Value</td>
                    <td class="text-center">
                        <div class="btn-group" role="group">
                            <a class="btn btn-info btn-sm me-1" asp-action="Details" asp-route-id="@setting.SettingId">
                                <i class="bi bi-eye"></i> Details
                            </a>
                            <a class="btn btn-warning btn-sm" asp-action="Edit" asp-route-id="@setting.SettingId">
                                <i class="bi bi-pencil-square"></i> Edit
                            </a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<!-- Include Bootstrap Icons if not already included -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<!-- Table Enhancement with Search and Pagination -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const searchInput = document.createElement("input");
        searchInput.classList.add("form-control", "mb-3");
        searchInput.placeholder = "Search by Parameter...";

        const table = document.querySelector("table");
        table.parentElement.insertBefore(searchInput, table);

        searchInput.addEventListener("input", function () {
            const searchTerm = this.value.toLowerCase();
            document.querySelectorAll("tbody tr").forEach(row => {
                const parameter = row.children[1].textContent.toLowerCase();
                row.style.display = parameter.includes(searchTerm) ? "" : "none";
            });
        });
    });
</script>
